<%= render "shared/header" %>
<div class="menu-post-contents">
  
  <header class="items-sell-header">
  </header>

  <div class="menu-post-main">
    <h2 class="menus-sell-title">レシピ情報を入力</h2>
    <%= form_with(model: @menu, local: true) do |f| %>

    <%= render 'shared/error_messages', model: f.object %>
    
    <div class="img-upload">
      <div class="weight-bold-text">
        料理イメージ
        <span class="indispensable">必須</span>
      </div>
      <div class="click-upload">
        <p>
          クリックしてファイルをアップロード
        </p>
        <%= f.file_field :image, id:"item-image" %>
      </div>
      <div id="image-list"></div>
    </div>
    
    <div class="new-menus">
      <div class="weight-bold-text">
        料理名
        <span class="indispensable">必須</span>
      </div>
      <%= f.text_area :title, class:"menus-text", id:"menu-name", placeholder:"料理名（必須 20文字まで)", maxlength:"20" %>
      
      
      <div class="menus-ingredients">
        <div class="weight-bold-text">
          メイン食材
          <span class="indispensable">必須</span>
        </div>

        <div class="ingredients-container">
          <div class="category_id">
            <p>【肉類】</p>
            <% meet_options = Meet.order(:id).map { |c| [c.name, c.id, data: { protein: c.protein, fat: c.fat, carbo: c.carbo }] } %>
            <%= f.select(:meet_id, meet_options, {}, {class:"#", data:{select:0}, id:"meet" }) %>
          </div>
          <div class="quantity">
            <p>分量</p>
              <div class="quantity_sum">
                <%= f.text_field :hoge, class:"quantity-input", id:"quan-input", placeholder:"例）150" %>
                <div>g</div>
              </div>
          </div>
          <div class="pfc-container">
            <p>タンパク質</p>
            <div class="pfc-window">
              <span id="pro-content"></span>g
            </div>
          </div>
          <div class="pfc-container">
            <p>脂質</p>
            <div class="pfc-window">
              <span id="fat-content"></span><div>g</div>
            </div>
          </div>
          <div class="pfc-container">
            <p>炭水化物</p>
            <div class="pfc-window">
              <span id="carbo-content"></span>g
            </div>
          </div>
        </div>

        <div class="ingredients-container">
          <div class="category_id">
            <p>【魚】</p>
            <% fish_options = Fish.order(:id).map { |c| [c.name, c.id, data: { protein: c.protein, fat: c.fat, carbo: c.carbo }] } %>
            <%= f.select(:fish_id, fish_options, {}, {class:"#", data:{select:0}, id:"fish" }) %>
          </div>
          <div class="quantity">
            <p>分量</p>
              <div class="quantity_sum">
                <%= f.text_field :hoge, class:"quantity-input", id:"fish-quan-input", placeholder:"例）150" %>
                <div>g</div>
              </div>
          </div>
          <div class="pfc-container">
            <p>タンパク質</p>
            <div class="pfc-window">
              <span id="fish-pro-content"></span>g
            </div>
          </div>
          <div class="pfc-container">
            <p>脂質</p>
            <div class="pfc-window">
              <span id="fish-fat-content"></span><div>g</div>
            </div>
          </div>
          <div class="pfc-container">
            <p>炭水化物</p>
            <div class="pfc-window">
              <span id="fish-carbo-content"></span>g
            </div>
          </div>
        </div>

        <%= f.text_field :price, class:"total-input", id:"total-protein", :placeholder => "合計:タンパク質", :readonly => true %>

        

      </div>
      <div class="menus-explain">
        <div class="weight-bold-text">
          料理の説明
          <span class="indispensable">必須</span>
        </div>
        <%= f.text_area :recipe, class:"menus-text", id:"item-info", placeholder:"作り方(必須 1000文字まで)" ,rows:"7" ,maxlength:"1000" %>
      </div>
    </div>
    <div class="post-btn-contents">
      <%= f.submit "投稿する" ,class:"post-btn" %>
      <%=link_to 'もどる', root_path, class:"back-btn" %>
    </div>
  </div>
  <% end %>
</div>